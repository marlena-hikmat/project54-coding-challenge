const { readdirSync } = require('node:fs');
const { basename } = require('node:path');

function getGlobals(){
    const files = readdirSync(__dirname, { encoding: 'utf-8', recursive: false});
    const globals = {};
    const ownName = basename(__filename);
    files.filter(fname => fname !== ownName).map(fname => fname.replace('.js', '')).forEach(fname => {
        const globalArray = require(`./${fname}`);
        Object.assign(globals, { [`${fname}`]: globalArray });
    });

    return globals;
}

module.exports = getGlobals();